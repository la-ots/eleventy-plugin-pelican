{%- extends "./guide.njk" -%}

{%- block guideTableOfContents -%}
{%- endblock -%}

{% set navPages = collections.all | eleventyNavigation %}

{%- block guideMainContent -%}
  {%- block sitemapHeader -%}
  {%- endblock -%}

  {%- block sitemapContent -%}
    <div class="content-container mb-0">
      {%- for entry in navPages -%}
        <div class="container-fluid">
          <div class="row">
            <div class="col-12">
              <h2 class="h4 mt-12">
                <a class="text-decoration-none d-flex" href="{{ entry.url | url }}">{{ entry.title }}</a>
              </h2>
              <p class="lead">{{ entry.excerpt }}</p>
            </div>
          </div>
          {%- if entry.children.length > 0 -%}
            <div class="row">
              {%- for child in entry.children -%}
                <div class="col-12 col-sm-6 col-lg-3 mb-6">
                  <div class="card shadow-none border-0">
                    <div class="card-body">
                      <p class="p mb-0">
                        <a class="text-decoration-none stretched-link" href="{{ child.url | url }}">{{ child.title }}</a>
                      </p>
                    </div>
                  </div>
                </div>
              {%- endfor -%}
            </div>
          {%- endif -%}
        </div>
        {%- if not loop.last -%}
          <hr class="minor my-4">
        {%- endif -%}
      {%- endfor -%}
    </div>
  {%- endblock -%}

  {%- block sitemapFooter -%}
  {%- endblock -%}
{%- endblock -%}
